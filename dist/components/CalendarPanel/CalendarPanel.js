import{__rest as e,__assign as n}from"../../node_modules/tslib/tslib.es6.js";import{EasyDate as t,defaultMonthLabels as a}from"../../utils/DateHelper.js";import r,{forwardRef as o,useState as l,useEffect as u,useCallback as i,useMemo as c}from"react";import{withStopPropagation as m,switchLevel as d}from"./Common.js";import{NavButton as f,CalendarPanel as s,NavigationPanel as y,TitleButton as h,DayIndicator as v,DayIndicatorTile as p,DaySelector as C,DayTile as E,MonthYearSelector as D,YearMonthTile as b}from"./CalendarPanel.styled.js";import g from"../Icons/AngleLeft.js";import k from"../Icons/AngleRight.js";import M from"../Typography/Typography.js";var L=function(e){var n=e.dayIndicatorLabels,t=e.selectedDate,a=e.viewDate,o=e.handleClickDate;return r.createElement(r.Fragment,null,r.createElement(v,null,null==n?void 0:n.map((function(e){return r.createElement(p,{key:e},e)}))),r.createElement(C,null,a.daysInMonthArrPadded.map((function(e){var n=e.type,a=e.easyDate;return r.createElement(E,{key:a.format(),dayPeriod:n,isActive:a.format()===t.format(),onClick:o(e)},a.date)}))))},I=function(e){var n=e.monthLabels,t=e.selectedDate,a=e.handleClickMonth;return r.createElement(D,null,n.map((function(e,n){return r.createElement(b,{key:e,isActive:t.month===n,onClick:a(n)},e)})))},Y=function(e){var n=e.selectedDate,t=e.viewDate,a=e.handleClickYear;return r.createElement(D,null,t.yearsInFrame.map((function(e){return r.createElement(b,{key:e,isActive:n.year===e,onClick:a(e)},e)})))},w=o((function(a,o){var v=a.date,p=a.monthLabels,C=a.dayIndicatorLabels,E=a.onDateChange,D=a.onMonthChange,b=a.onYearChange,w=e(a,["date","monthLabels","dayIndicatorLabels","onDateChange","onMonthChange","onYearChange"]),j=l(new t(v)),F=j[0],A=j[1],P=l(F),x=P[0],B=P[1],T=l("day"),R=T[0],S=T[1];u((function(){return A(new t(v))}),[v]);var H=i((function(e){var n=e.easyDate;return m((function(){B(n),null==E||E(n.value)}))}),[E]),N=i((function(e){return m((function(){var n=new t(F.setMonth(e).value);B(n),null==D||D(n.value),S("day")}))}),[D,F]),W=i((function(e){return m((function(){var n=new t(F.setYear(e).value);B(n),null==b||b(n.value),S("month")}))}),[b,F]),_=i((function(){d(R,(function(){return B(x.previousMonth)}),void 0,(function(){return B(x.previousYearByFrame)}))}),[R,x.previousMonth,x.previousYearByFrame]),q=i((function(){d(R,(function(){return B(x.nextMonth)}),void 0,(function(){return B(x.nextYearByFrame)}))}),[R,x.nextMonth,x.nextYearByFrame]),z=i((function(){d(R,(function(){return S("month")}),(function(){return S("year")}))}),[R]),G=d(R,(function(){return x.format("MMM yyyy",p)}),(function(){return x.format("yyyy")}),(function(){return x.yearsInFrameRange.join(" - ")})),J="year"===R,K=d(R,(function(){return r.createElement(L,{dayIndicatorLabels:C,selectedDate:F,viewDate:x,handleClickDate:H})}),(function(){return r.createElement(I,{monthLabels:p,selectedDate:F,handleClickMonth:N})}),(function(){return r.createElement(Y,{selectedDate:F,viewDate:x,handleClickYear:W})})),O=c((function(){return"month"!==R&&r.createElement(f,{type:"button",onClick:_},r.createElement(g,null))}),[_,R]),Q=c((function(){return"month"!==R&&r.createElement(f,{type:"button",onClick:q},r.createElement(k,null))}),[q,R]);return r.createElement(s,n({ref:o},w),r.createElement(y,null,O,r.createElement(h,{type:"button",disabled:J,onClick:z},r.createElement(M,null,G)),Q),K)}));w.displayName="CalendarPanel",w.defaultProps={date:new Date,dayIndicatorLabels:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthLabels:a,onDateChange:void 0,onMonthChange:void 0,onYearChange:void 0};export default w;
//# sourceMappingURL=CalendarPanel.js.map

import{__rest as e,__assign as n}from"../../node_modules/tslib/tslib.es6.js";import t,{forwardRef as o,useState as r,useCallback as i,useLayoutEffect as u}from"react";import{Clock as m,ClockFrame as l,CenterDot as c}from"./Clock.styled.js";import a from"./EditHourMode.js";import s from"./EditMinuteMode.js";import d from"./ViewMode.js";import{switchMode as h,computeRealtimeClock as f,defaultHourMarks as g,defaultMinuteMarks as M,calcMajorDeg as v,normalizeHour as C,calcMinorDeg as k}from"./Common.js";var p=o((function(o,g){var M=o.clockMode,p=o.hourMarks,w=o.minuteMarks,E=o.time,y=o.viewStyle,j=o.onTimeChange,D=o.onHourChange,H=o.onMinuteChange,R=e(o,["clockMode","hourMarks","minuteMarks","time","viewStyle","onTimeChange","onHourChange","onMinuteChange"]),x=r(E),S=x[0],B=x[1],T=r(),b=T[0],N=T[1],P=S,V=P.hours,_=P.minutes,q=P.seconds,z=v(C(V)),A=k(_)+k((q||0)/60),F=k(q||0),G=i((function(e){return N(e)}),[]),I=i((function(e){var n={hours:V,minutes:e};null==H||H(n),null==j||j(n)}),[V,H,j]),J=i((function(e){var n={hours:e,minutes:_};null==D||D(n),null==j||j(n)}),[_,D,j]),K=function(e){return void 0===e&&(e=!1),t.createElement(d,{hourDeg:z+.5*_,minuteDeg:A,secondsDeg:F,viewStyle:y,isRealtime:e})},L=h(M,(function(){return K()}),(function(){return K(!0)}),(function(){return t.createElement(a,{centerDomRect:null==b?void 0:b.getBoundingClientRect(),hours:V,hourMarks:p,onHourChange:J})}),(function(){return t.createElement(s,{centerDomRect:null==b?void 0:b.getBoundingClientRect(),minutes:_,minuteMarks:w,onMinuteChange:I})}));return u((function(){return B(E)}),[E]),u((function(){"view-realtime"===M&&f(B)}),[M]),t.createElement(m,n({ref:g,width:"268",height:"268",viewBox:"0 0 600 600"},R),t.createElement("g",null,t.createElement(l,{cx:"300",cy:"300",r:"296"}),t.createElement(c,{ref:G,cx:"300",cy:"300",r:"16"})),L)}));p.displayName="Clock",p.defaultProps={clockMode:"view",hourMarks:g,minuteMarks:M,time:{hours:12,minutes:0},viewStyle:"line",onTimeChange:void 0,onHourChange:void 0,onMinuteChange:void 0};export default p;
//# sourceMappingURL=Clock.js.map
